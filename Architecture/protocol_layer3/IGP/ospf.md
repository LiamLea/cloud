# OSPF

[toc]

### 概述

#### 1.OSPF（open shortest path first，属于自治系统路由协议）
最短路径优先
**是 自治系统内 的 路由协议**

#### 2.特点
* 度量值：带宽（RIP协议的度量值才是跳数）
* 支持多区域（二级）
  * 不分区域的话，交换的邻居表的数量会非常大
  * 每个区域都必须跟 area0 相连
* 触发式更新（RIP协议每隔30秒广播一次，从而更新路由表）

#### 3.三个表

##### （1）邻居表（通过hello包检测，从而更新邻居表）

##### （2）链路状态表
每个路由器会交换自己的 邻居表，从而生成 链路状态表

##### （3）路由表
路由表 根据 链路状态表 和 最短路径算法（度量是 带宽） 计算出来的

***

### 配置

#### 1.配置ospf

##### （1）启动ospf进程
```shell
[]ospf 1    #进程号为1
```

##### （2）进入指定区域配置
```shell
[ospf-1]area 0   #进入0区域，进行配置
```

##### （3）允许宣告的网段
```shell
[ospf-1-area-0.0.0.0]network <ip> <anti-mask>

#比如允许宣告的网段：192.168.0.0/16，即如果该路由器在这个网段内，则会宣告自己的网段
#network 192.168.0.0 0.0.255.255
#当路由器的网段为192.168.1.0/24和10.10.1.0/24，则只有192.168.1.0/24会被宣告
```
